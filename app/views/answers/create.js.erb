<% if @answer.errors.present? %>
  $(".alert").html("<%= j flash.now[:alert] %>");
  $(".notice").empty();
  $('.new_answer-errors').html('<%= j render "shared/errors", object: @answer %>');
<% else %>
  $(".alert").empty();
  $('.new_answer-errors').empty();
  $(".notice").html("<%= j flash.now[:notice] %>");

  $('.answers').append('<%= j render @answer, best: false %>');
  $('#new_answer textarea#answer_body').val('');
<% end %>
