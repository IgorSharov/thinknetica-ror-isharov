var answer = $('.answer[data-answer-id="<%= @answer.id %>"]');

<% if @answer.errors.present? %>
  $(".alert").html("<%= j flash.now[:alert] %>");
  $(".notice").empty();

  answer.find('form').replaceWith("<%= j render 'answers/edit', answer: @answer %>");
<% else %>
  $(".alert").empty();
  $(".notice").html("<%= j flash.now[:notice] %>");

  answer.replaceWith('<%= j render @answer %>');
<% end %>
